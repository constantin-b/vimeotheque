(()=>{"use strict";var e={n:t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return e.d(o,{a:o}),o},d:(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=jQuery;var o=e.n(t),n=function(e,t){void 0===window.vimeotheque&&(window.vimeotheque={}),"string"!=typeof e&&void 0!==console.error&&console.error("Parameter must be a string"),window.vimeotheque[e]=t},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return void 0!==window.vimeotheque[e]?window.vimeotheque[e]:(void 0===console.error||t||console.error("Param ".concat(e," does not exist.")),null)},a=function(e){window.vimeotheque.navigation.list.push(e)},r=function(e){o().each(window.vimeotheque.navigation.list,(function(t,o){o(e)}))},s=vimeotheque,c=s.restURL,u=s.restNonce;window.vimeotheque=window.vimeotheque||{},window.vimeotheque.navigation={list:[]},o()(document).ready((function(){n("step",1),n("steps",4);var e,t,s,l=o()(".wrap.vimeotheque-setup .navigator .step a"),v=o()(".wrap.vimeotheque-setup .container .step");a((function(e){var t=o()(".wrap.vimeotheque-setup .navigator .step *[data-step='".concat(e,"']"));t.hasClass("active")||t.trigger("click")})),a((function(e){e<=i("steps")&&o()(".controls").show(),999==e&&o()(".wrap.vimeotheque-setup .container .step").hide()})),l.on("click",(function(e){e.preventDefault();var t=o()(o()(e.currentTarget).attr("href")),i=o()(e.currentTarget).data("step");v.hide(),t.show(),l.removeClass("active"),o()(e.currentTarget).addClass("active"),n("step",parseInt(i)),r(i)})),o()("#lazy_load").on("click",(function(e){o()(e.currentTarget).is(":checked")?o()("#play-icon-color-row").show(300):o()("#play-icon-color-row").hide(300)})),o()('[name="enable_templates"]').on("click",(function(e){0==o()(e.currentTarget).val()?o()("#video-position-row, #video-align-row").show(300):o()("#video-position-row, #video-align-row").hide(300)})),0==o()('[name="enable_templates"]:checked').val()?o()("#video-position-row, #video-align-row").show(300):o()("#video-position-row, #video-align-row").hide(300),o()(".toggler").on("click",(function(e){e.preventDefault();var t=o()(e.currentTarget),n=t.data(),i=n.toggle,a=n.show_text,r=n.hide_text;o()(i).toggle(0,(function(){console.log(o()(i).is(":visible")),o()(t).html(o()(i).is(":visible")?r:a)}))})),o()('[data-colorPicker="true"]').wpColorPicker({change:function(){},clear:function(){}}),o()("#skip-setup").on("click",(function(e){return confirm(o()(e.currentTarget).data("message"))})),e=o()(".wrap.vimeotheque-setup .container .submit-button"),t=o()(".wrap.vimeotheque-setup .container .back"),s=e.data(),a((function(t){t==i("steps")?e.val(s.save):e.val(s.value)})),a((function(e){1==e?t.removeClass("active"):t.addClass("active")})),t.on("click",(function(e){e.preventDefault();var t=i("step");t>1&&(r(t-1),n("step",t-1))})),e.on("click",(function(t){var a=i("step"),l=i("steps");if(r(a+1),a<l)n("step",a+1);else{e.addClass("loading").val(s.loading).attr("disabled","disabled");var v=o()("#setup-form").serializeArray();o().each(o()("#setup-form input[type=checkbox]:not(:checked)"),(function(e,t){v.push({name:o()(t).attr("name"),value:0})})),o().ajax({type:"POST",url:"".concat(c,"vimeotheque/v1/plugin/settings"),beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",u)},data:v,success:function(t){e.val(s.save).removeClass("loading").removeAttr("disabled");var i=t.success,a=t.message;o()("#step-4 .content"),i?(r(999),n("step",999),o()("#step-success").show(),o()(".controls").hide()):o()("#vimeo-oauth-response").show().html("<p>".concat(a,"</p>"))}})}}))}))})();